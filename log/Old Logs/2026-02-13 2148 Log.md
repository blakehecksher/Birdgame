# Joined-Player Jitter Analysis (No Fix Applied)

## Timestamp
2026-02-13 21:48 (local workspace time)

## Scope
This note captures why the joiner-side world still feels jittery/jumpy after smoothing changes. This file is analysis-only for jitter (requested), not a jitter fix patch.

## Observed Symptom
- Joining player sees remote world motion as hold-then-jump instead of continuous glide.
- Effect is stronger on real internet/mobile than local test runs.

## Repo-Backed Causes (Most Likely)
1. Authoritative simulation and network timeline are still not the same clock.
- Simulation runs in the frame loop (`Game.gameLoop` -> `update`) and uses render-frame delta.
- Network authority tick is advanced from wall time in `NetworkManager.advanceServerTick` and emitted during `sendStateSync`.
- Result: packet timeline can drift from exact simulation integration steps under host frame variability. Client interpolation receives uneven anchors.

2. Snapshot cadence is low enough that host frame jitter is visible.
- Dynamic player snapshots are 20 Hz.
- On stable host hardware this is usually fine; on browser/mobile with GC, background task spikes, or thermal events, packet spacing becomes uneven.
- Interpolation can smooth between known samples, but cannot reconstruct missing curvature when sample spacing stretches.

3. Join warmup window is intrinsically under-buffered.
- Immediately after join, interpolation buffer has too few points.
- Client falls back to earliest/latest sample and short extrapolation paths until enough snapshots accumulate.
- That startup period is where users often report “it still feels jumpy right after joining.”

4. Visual smoothing and authority correction are solving different problems.
- Remote visual smoothing hides packet granularity.
- Local reconciliation enforces host truth.
- If network quality is inconsistent, these two loops can fight perceptually: smoother motion most frames, then visible authority pullbacks.

5. P2P home/cellular variability dominates once transport jitter rises.
- Even with adaptive interpolation buffer, large burst jitter in peer-to-peer browser sessions produces visible spacing artifacts.
- TURN absence/relay fallback behavior can further increase variance.

## Why It Still Feels Similar Despite Prior Tuning
- Previous work reduced obvious hard snaps, but did not change the core architecture fact that authoritative snapshots are sparse and uneven under host/device jitter.
- Larger interpolation buffers improve continuity but add historical lag and cannot fix bursty sample arrival.

## What This Implies
- To materially remove this remaining feel, we need either:
  - tighter host simulation timing discipline (fixed-step authority loop), and/or
  - denser/more consistent transform sampling under load, and/or
  - stronger state transport quality (relay/TURN reliability and lower jitter path).
- Pure client-side lerp tuning has diminishing returns at this point.

## Status
- Jitter section intentionally left as analysis only (no jitter-targeted code change in this note).
- Separate desync fix work is tracked in code changes from this task.
